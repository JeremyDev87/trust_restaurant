# F002 AI ìš”ì•½ ì‘ë‹µ - êµ¬í˜„ ê³„íšì„œ

## 1. ê°œìš”

### 1.1 ëª©ì 
F001 ì¡°íšŒ ê²°ê³¼ë¥¼ ì‚¬ìš©ì ì¹œí™”ì ì¸ í•œêµ­ì–´ ìš”ì•½ë¬¸ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ êµ¬í˜„.

### 1.2 ì°¸ì¡° ë¬¸ì„œ
- [F002-AIìš”ì•½ì‘ë‹µ.md](../feature/F002-AIìš”ì•½ì‘ë‹µ.md)
- [F001-ì‹ë‹¹ìœ„ìƒì •ë³´ì¡°íšŒ.md](../feature/F001-ì‹ë‹¹ìœ„ìƒì •ë³´ì¡°íšŒ.md)

### 1.3 í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸

| í•­ëª© | ê°’ |
|------|-----|
| í”„ë¡œì íŠ¸ íƒ€ì… | MCP ì„œë²„ |
| ì–¸ì–´ | TypeScript |
| í…ŒìŠ¤íŠ¸ ì „ëµ | TDD (90% ì»¤ë²„ë¦¬ì§€) |
| ì˜ì¡´ì„± | F001 ì¶œë ¥ (RestaurantHygieneResult) |

---

## 2. ë²”ìœ„

### 2.1 In Scope
- ìœ„ìƒë“±ê¸‰ ìš”ì•½ í…ìŠ¤íŠ¸ ìƒì„±
- í–‰ì •ì²˜ë¶„ ì´ë ¥ ìš”ì•½ í…ìŠ¤íŠ¸ ìƒì„±
- ë²•ì  ìš©ì–´ â†’ ì‰¬ìš´ í‘œí˜„ ë³€í™˜
- ì•„ì´ì½˜/ì´ëª¨ì§€ í¬ë§·íŒ…
- ê¸°ì¡´ MCP ë„êµ¬ ì‘ë‹µì— í†µí•©

### 2.2 Out of Scope
- íŒë‹¨/ê¶Œê³  ë©”ì‹œì§€ (ì˜ˆ: "ì•ˆì‹¬í•˜ê³  ê°€ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤")
- ë‹¤êµ­ì–´ ì§€ì›
- ìŒì„± ì¶œë ¥ìš© í…ìŠ¤íŠ¸

---

## 3. ì•„í‚¤í…ì²˜

### 3.1 ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
src/
â”œâ”€â”€ formatters/
â”‚   â”œâ”€â”€ summary-formatter.ts      # ìš”ì•½ í¬ë§·í„° ë©”ì¸
â”‚   â”œâ”€â”€ summary-formatter.test.ts # í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ term-converter.ts         # ìš©ì–´ ë³€í™˜ ìœ í‹¸
â”‚   â”œâ”€â”€ term-converter.test.ts    # í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ index.ts                  # ëª¨ë“ˆ ìµìŠ¤í¬íŠ¸
â””â”€â”€ index.ts                      # MCP ì„œë²„ (ê¸°ì¡´)
```

### 3.2 ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RestaurantHygieneResult (F001) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      SummaryFormatter           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ formatHygieneGrade()        â”‚â”‚
â”‚  â”‚ formatViolations()          â”‚â”‚
â”‚  â”‚ â†’ TermConverter             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FormattedSummary (text)        â”‚
â”‚  "ğŸ† ìœ„ìƒë“±ê¸‰: â˜…â˜… ìš°ìˆ˜ (AA)   â”‚
â”‚   âœ… í–‰ì •ì²˜ë¶„: ì´ë ¥ ì—†ìŒ"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

| ì»´í¬ë„ŒíŠ¸ | ì±…ì„ |
|----------|------|
| `SummaryFormatter` | ì „ì²´ ìš”ì•½ í…ìŠ¤íŠ¸ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ |
| `formatHygieneGrade()` | ìœ„ìƒë“±ê¸‰ ì„¹ì…˜ í¬ë§·íŒ… |
| `formatViolations()` | í–‰ì •ì²˜ë¶„ ì„¹ì…˜ í¬ë§·íŒ… |
| `TermConverter` | ë²•ì  ìš©ì–´ â†’ ì‰¬ìš´ í‘œí˜„ ë³€í™˜ |

---

## 4. íƒ€ì… ì •ì˜

### 4.1 í¬ë§·í„° íƒ€ì…

```typescript
// src/formatters/summary-formatter.ts

/**
 * ìš”ì•½ ê²°ê³¼ íƒ€ì…
 */
interface FormattedSummary {
  /** ì „ì²´ ìš”ì•½ í…ìŠ¤íŠ¸ */
  text: string;
  /** ìœ„ìƒë“±ê¸‰ ì„¹ì…˜ */
  hygieneSection: string;
  /** í–‰ì •ì²˜ë¶„ ì„¹ì…˜ */
  violationSection: string;
}

/**
 * í¬ë§· ì˜µì…˜
 */
interface FormatOptions {
  /** ìµœëŒ€ í‘œì‹œí•  ì²˜ë¶„ ì´ë ¥ ìˆ˜ (ê¸°ë³¸: 3) */
  maxViolations?: number;
  /** ì¤„ë°”ê¿ˆ ë¬¸ì (ê¸°ë³¸: '\n') */
  lineBreak?: string;
}
```

### 4.2 ìš©ì–´ ë³€í™˜ íƒ€ì…

```typescript
// src/formatters/term-converter.ts

/**
 * ìš©ì–´ ë³€í™˜ ë§µ
 */
type TermMap = Record<string, string>;

/**
 * ë³€í™˜ ì¹´í…Œê³ ë¦¬
 */
type TermCategory = 'violation_type' | 'violation_reason';
```

---

## 5. êµ¬í˜„ ìƒì„¸

### 5.1 ì•„ì´ì½˜ ì •ì˜

```typescript
const ICONS = {
  // ìœ„ìƒë“±ê¸‰
  GRADE_EXISTS: 'ğŸ†',
  GRADE_NONE: 'â„¹ï¸',

  // í–‰ì •ì²˜ë¶„
  VIOLATION_NONE: 'âœ…',
  VIOLATION_EXISTS: 'âš ï¸',
  VIOLATION_ERROR: 'â“',

  // ë³„ì 
  STAR_FILLED: 'â˜…',
  STAR_EMPTY: 'â˜†',
} as const;
```

### 5.2 ìš©ì–´ ë³€í™˜í‘œ

```typescript
const TERM_CONVERSIONS: Record<string, string> = {
  // ì²˜ë¶„ ìœ í˜•
  'ì˜ì—…ì •ì§€': 'ì˜ì—…ì •ì§€',
  'ì˜ì—…í—ˆê°€ì·¨ì†Œ': 'ì˜ì—…í—ˆê°€ ì·¨ì†Œ',
  'ê³¼íƒœë£Œ': 'ê³¼íƒœë£Œ',
  'ì‹œì„¤ê°œìˆ˜ëª…ë ¹': 'ì‹œì„¤ ê°œì„  ëª…ë ¹',
  'í’ˆëª©ì œì¡°ì •ì§€': 'í•´ë‹¹ í’ˆëª© ì œì¡° ê¸ˆì§€',
  'ì‹œì •ëª…ë ¹': 'ì‹œì • ëª…ë ¹',

  // ìœ„ë°˜ ì‚¬ìœ 
  'ìœ„ìƒì ì·¨ê¸‰ê¸°ì¤€ìœ„ë°˜': 'ìœ„ìƒ ê¸°ì¤€ ìœ„ë°˜',
  'ì‹í’ˆìœ„ìƒë²•ìœ„ë°˜': 'ì‹í’ˆìœ„ìƒë²• ìœ„ë°˜',
  'ì›ì‚°ì§€í‘œì‹œìœ„ë°˜': 'ì›ì‚°ì§€ í‘œì‹œ ìœ„ë°˜',
};
```

### 5.3 í¬ë§· ê·œì¹™

#### ìœ„ìƒë“±ê¸‰ í¬ë§·
```
ë“±ê¸‰ ë³´ìœ : ğŸ† ìœ„ìƒë“±ê¸‰: â˜…â˜…â˜† ìš°ìˆ˜ (AA)
ë“±ê¸‰ ì—†ìŒ: â„¹ï¸ ìœ„ìƒë“±ê¸‰: ë“±ê¸‰ ë¯¸ë³´ìœ  (ë¯¸ì‹ ì²­ ì—…ì†Œ)
```

#### ë³„ì  í‘œì‹œ
| ë“±ê¸‰ | ë³„ì  í‘œì‹œ |
|------|-----------|
| AAA (3ì ) | â˜…â˜…â˜… |
| AA (2ì ) | â˜…â˜…â˜† |
| A (1ì ) | â˜…â˜†â˜† |
| ì—†ìŒ (0ì ) | (í‘œì‹œ ì•ˆí•¨) |

#### í–‰ì •ì²˜ë¶„ í¬ë§·
```
ì²˜ë¶„ ì—†ìŒ: âœ… í–‰ì •ì²˜ë¶„: ìµœê·¼ 3ë…„ê°„ ì²˜ë¶„ ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.
ì²˜ë¶„ ìˆìŒ: âš ï¸ í–‰ì •ì²˜ë¶„: Nê±´
           - YYYY.MM.DD | ì²˜ë¶„ìœ í˜• | ìœ„ë°˜ì‚¬ìœ 
ì¡°íšŒ ë¶ˆê°€: â“ í–‰ì •ì²˜ë¶„: í˜„ì¬ ì¡°íšŒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

---

## 6. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

### 6.1 SummaryFormatter í…ŒìŠ¤íŠ¸

```typescript
describe('SummaryFormatter', () => {
  describe('formatSummary', () => {
    // ì •ìƒ ì‹œë‚˜ë¦¬ì˜¤
    it('S-001: ìœ„ìƒë“±ê¸‰ ë³´ìœ  + ì²˜ë¶„ ì´ë ¥ ì—†ìŒ', () => {});
    it('S-002: ìœ„ìƒë“±ê¸‰ ë³´ìœ  + ì²˜ë¶„ ì´ë ¥ ìˆìŒ', () => {});
    it('S-003: ìœ„ìƒë“±ê¸‰ ë¯¸ë³´ìœ  + ì²˜ë¶„ ì´ë ¥ ì—†ìŒ', () => {});
    it('S-004: ìœ„ìƒë“±ê¸‰ ë¯¸ë³´ìœ  + ì²˜ë¶„ ì´ë ¥ ë‹¤ìˆ˜', () => {});

    // ì˜ˆì™¸ ì‹œë‚˜ë¦¬ì˜¤
    it('E-002: ë¶€ë¶„ ë°ì´í„°ë§Œ ì¡´ì¬ (ì²˜ë¶„ ì¡°íšŒ ì‹¤íŒ¨)', () => {});
  });

  describe('formatHygieneGrade', () => {
    it('should format AAA grade with 3 stars', () => {});
    it('should format AA grade with 2 stars', () => {});
    it('should format A grade with 1 star', () => {});
    it('should format no grade message', () => {});
  });

  describe('formatViolations', () => {
    it('should format empty violations', () => {});
    it('should format single violation', () => {});
    it('should limit to 3 violations', () => {});
    it('should show "ì™¸ Nê±´" for more violations', () => {});
    it('should format date as YYYY.MM.DD', () => {});
  });
});
```

### 6.2 TermConverter í…ŒìŠ¤íŠ¸

```typescript
describe('TermConverter', () => {
  describe('convertTerm', () => {
    it('should convert ì‹œì„¤ê°œìˆ˜ëª…ë ¹ to ì‹œì„¤ ê°œì„  ëª…ë ¹', () => {});
    it('should convert ìœ„ìƒì ì·¨ê¸‰ê¸°ì¤€ìœ„ë°˜ to ìœ„ìƒ ê¸°ì¤€ ìœ„ë°˜', () => {});
    it('should return original if no conversion exists', () => {});
  });

  describe('convertViolationReason', () => {
    it('should convert known violation reasons', () => {});
    it('should handle compound reasons', () => {});
  });
});
```

---

## 7. êµ¬í˜„ ë‹¨ê³„

### Phase 1: ìš©ì–´ ë³€í™˜ê¸° (TDD)

| ë‹¨ê³„ | ì‘ì—… | ì‚°ì¶œë¬¼ |
|------|------|--------|
| 1.1 | í…ŒìŠ¤íŠ¸ ì‘ì„± | `term-converter.test.ts` |
| 1.2 | ë³€í™˜ ë§µ ì •ì˜ | ìƒìˆ˜ ì •ì˜ |
| 1.3 | ë³€í™˜ í•¨ìˆ˜ êµ¬í˜„ | `convertTerm()` |
| 1.4 | í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸ | 100% ì»¤ë²„ë¦¬ì§€ |

### Phase 2: ìš”ì•½ í¬ë§·í„° (TDD)

| ë‹¨ê³„ | ì‘ì—… | ì‚°ì¶œë¬¼ |
|------|------|--------|
| 2.1 | í…ŒìŠ¤íŠ¸ ì‘ì„± | `summary-formatter.test.ts` |
| 2.2 | ì•„ì´ì½˜/ìƒìˆ˜ ì •ì˜ | `ICONS`, `STARS` |
| 2.3 | `formatHygieneGrade()` êµ¬í˜„ | ìœ„ìƒë“±ê¸‰ ì„¹ì…˜ |
| 2.4 | `formatViolations()` êµ¬í˜„ | í–‰ì •ì²˜ë¶„ ì„¹ì…˜ |
| 2.5 | `formatSummary()` êµ¬í˜„ | ì „ì²´ ìš”ì•½ |
| 2.6 | í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸ | 100% ì»¤ë²„ë¦¬ì§€ |

### Phase 3: MCP í†µí•©

| ë‹¨ê³„ | ì‘ì—… | ì‚°ì¶œë¬¼ |
|------|------|--------|
| 3.1 | `index.ts` ìˆ˜ì • | ìš”ì•½ í…ìŠ¤íŠ¸ í¬í•¨ ì‘ë‹µ |
| 3.2 | í†µí•© í…ŒìŠ¤íŠ¸ | ì „ì²´ í”Œë¡œìš° ê²€ì¦ |
| 3.3 | ë¹Œë“œ ë° íƒ€ì…ì²´í¬ | ì—ëŸ¬ ì—†ìŒ í™•ì¸ |

---

## 8. êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: ìš©ì–´ ë³€í™˜ê¸°
- [ ] `src/formatters/term-converter.ts` ìƒì„±
- [ ] `src/formatters/term-converter.test.ts` ìƒì„±
- [ ] ë³€í™˜ ë§µ ì •ì˜ (ì²˜ë¶„ìœ í˜•, ìœ„ë°˜ì‚¬ìœ )
- [ ] `convertTerm()` í•¨ìˆ˜ êµ¬í˜„
- [ ] í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸

### Phase 2: ìš”ì•½ í¬ë§·í„°
- [ ] `src/formatters/summary-formatter.ts` ìƒì„±
- [ ] `src/formatters/summary-formatter.test.ts` ìƒì„±
- [ ] ì•„ì´ì½˜/ìƒìˆ˜ ì •ì˜
- [ ] `formatHygieneGrade()` êµ¬í˜„ + í…ŒìŠ¤íŠ¸
- [ ] `formatViolations()` êµ¬í˜„ + í…ŒìŠ¤íŠ¸
- [ ] `formatSummary()` êµ¬í˜„ + í…ŒìŠ¤íŠ¸
- [ ] ì‹œë‚˜ë¦¬ì˜¤ S-001 ~ S-004 í…ŒìŠ¤íŠ¸
- [ ] ì˜ˆì™¸ ì‹œë‚˜ë¦¬ì˜¤ E-002 í…ŒìŠ¤íŠ¸

### Phase 3: MCP í†µí•©
- [ ] `src/index.ts` ìˆ˜ì • - ìš”ì•½ í¬í•¨
- [ ] `src/formatters/index.ts` ìƒì„±
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì¶”ê°€
- [ ] ë¹Œë“œ ê²€ì¦ (`npm run build`)
- [ ] ì „ì²´ í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸

---

## 9. ì˜ˆìƒ ì‚°ì¶œë¬¼

### 9.1 íŒŒì¼ ëª©ë¡

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `src/formatters/term-converter.ts` | ìš©ì–´ ë³€í™˜ ìœ í‹¸ |
| `src/formatters/term-converter.test.ts` | ìš©ì–´ ë³€í™˜ í…ŒìŠ¤íŠ¸ |
| `src/formatters/summary-formatter.ts` | ìš”ì•½ í¬ë§·í„° |
| `src/formatters/summary-formatter.test.ts` | ìš”ì•½ í¬ë§·í„° í…ŒìŠ¤íŠ¸ |
| `src/formatters/index.ts` | ëª¨ë“ˆ ìµìŠ¤í¬íŠ¸ |

### 9.2 ì˜ˆìƒ í…ŒìŠ¤íŠ¸ ìˆ˜

| ì˜ì—­ | ì˜ˆìƒ í…ŒìŠ¤íŠ¸ ìˆ˜ |
|------|---------------|
| TermConverter | 8ê°œ |
| SummaryFormatter | 15ê°œ |
| í†µí•© í…ŒìŠ¤íŠ¸ | 5ê°œ |
| **í•©ê³„** | **~28ê°œ** |

---

## 10. ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘

| ìœ„í—˜ | ê°€ëŠ¥ì„± | ì˜í–¥ | ëŒ€ì‘ |
|------|--------|------|------|
| ë¯¸ì •ì˜ ë²•ì  ìš©ì–´ ë“±ì¥ | ì¤‘ | ë‚®ìŒ | ì›ë¬¸ ê·¸ëŒ€ë¡œ ë°˜í™˜, ë¡œê·¸ ê¸°ë¡ |
| ì´ëª¨ì§€ ë Œë”ë§ ë¬¸ì œ | ë‚®ìŒ | ë‚®ìŒ | í…ìŠ¤íŠ¸ í´ë°± ì˜µì…˜ ì œê³µ |
| ë‚ ì§œ í˜•ì‹ ë¶ˆì¼ì¹˜ | ë‚®ìŒ | ë‚®ìŒ | íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì›ë¬¸ ì‚¬ìš© |

---

## 11. ì„±ê³µ ê¸°ì¤€

| ì§€í‘œ | ê¸°ì¤€ | ì¸¡ì • ë°©ë²• |
|------|------|-----------|
| í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | 95% | `npm run test:run -- --coverage` |
| ì‹œë‚˜ë¦¬ì˜¤ í†µê³¼ | 100% | S-001~S-004, E-002 |
| ë¹Œë“œ ì„±ê³µ | ì—ëŸ¬ 0 | `npm run build` |
| ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ìœ ì§€ | 95ê°œ í†µê³¼ | `npm run test:run` |

---

## ë³€ê²½ ì´ë ¥

| ë²„ì „ | ì¼ì | ë‚´ìš© |
|------|------|------|
| 1.0 | 2025-12-26 | ìµœì´ˆ ì‘ì„± |
